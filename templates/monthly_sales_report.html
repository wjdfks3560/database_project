{% extends "base.html" %}
{% block title %}ì›”ê°„ ë§¤ì¶œ ë¶„ì„ ê²°ê³¼{% endblock %}

{% block content %}
<style>
    /* 1. ë³´ê³ ì„œ ì»¨í…Œì´ë„ˆ ë° ì¼ë°˜ ìŠ¤íƒ€ì¼ */
    .report-container {
        max-width: 900px; /* ì»¨í…Œì´ë„ˆ ìµœëŒ€ ë„ˆë¹„ ì„¤ì • */
        margin: 40px auto; /* ì¤‘ì•™ ì •ë ¬ */
        background-color: #fff;
        border: 1px solid #e5e7eb;
        border-radius: 8px;
        padding: 30px 40px;
        line-height: 1.6;
        color: #374151;
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.06);
    }
    .report-container h1 { 
        margin-top: 0; 
        font-size: 28px; 
        margin-bottom: 20px;
        border-bottom: 2px solid #10B981; /* ê°•ì¡°ìƒ‰ìœ¼ë¡œ êµ¬ë¶„ì„  ì¶”ê°€ */
        padding-bottom: 10px;
        color: #1F2937;
    }

    /* 2. íŒë§¤ì•¡ í…Œì´ë¸” ìŠ¤íƒ€ì¼ */
    .sales-table {
        width: 100%;
        border-collapse: collapse; /* í…Œë‘ë¦¬ ê²¹ì¹¨ ì œê±° */
        margin-top: 25px;
    }
    .sales-table th, .sales-table td {
        border: 1px solid #e5e7eb;
        padding: 12px;
        text-align: left;
    }
    .sales-table th {
        background-color: #f3f4f6;
        font-weight: bold;
        color: #4B5563;
    }
    .sales-table td:last-child {
        /* ê¸ˆì•¡ ì»¬ëŸ¼ ì˜¤ë¥¸ìª½ ì •ë ¬ ë° ê°•ì¡° */
        text-align: right; 
        font-weight: 600;
        color: #059669;
    }
    .sales-table tbody tr:hover {
        background-color: #f9fafb; /* ë§ˆìš°ìŠ¤ ì˜¤ë²„ ì‹œ ìƒ‰ìƒ ë³€í™” */
    }
</style>

<div class="report-container">
    <a href="javascript:history.back()" style="float: right; font-weight: bold; color: #2563EB; text-decoration: none;">[ë’¤ë¡œê°€ê¸°]</a>
    <h1>ğŸ“ˆ ì›”ê°„ ë§¤ì¶œ ë¶„ì„ ê²°ê³¼</h1>

    {% if sales_data|length > 0 %}
    <p>MySQL ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì§‘ê³„ëœ **ì›”ë³„ ì´ êµ¬ë§¤ì•¡**ì…ë‹ˆë‹¤.</p>
    <table class="sales-table">
        <thead>
            <tr>
                <th>ì›”ë³„</th>
                <th>ì´ êµ¬ë§¤ì•¡ (ì›)</th>
            </tr>
        </thead>
        <tbody>
            {% for item in sales_data %}
            <tr>
                <td>{{ item.sales_month }}</td>
                <td>{{ "{:,.0f}".format(item.total_monthly_sales) }} ì›</td> 
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
    <p style="color: #EF4444; padding: 20px; border: 1px dashed #FCA5A5; border-radius: 4px; background-color: #FEF2F2;">
        ğŸš¨ ì•„ì§ ì§‘ê³„ëœ ì£¼ë¬¸ ì™„ë£Œ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤. ë¶„ì„ì„ ìœ„í•´ì„œëŠ” **`orders` í…Œì´ë¸”ì— ì£¼ë¬¸ ì™„ë£Œ ìƒíƒœ**ì™€ **`order_date`** ë°ì´í„°ê°€ í•„ìš”í•©ë‹ˆë‹¤.
    </p>
    {% endif %}
</div>
{% endblock %}